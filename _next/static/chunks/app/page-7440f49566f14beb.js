(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6841:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var a=l(5155),s=l(2115);l(6766);let n=[{id:1,title:"First Clue",description:"Find the place where water meets the sky, where people gather to watch the sunset. Look for a bench facing west.",type:"location",hint:"It's a popular waterfront spot in the city.",targetLocation:{latitude:0,longitude:0,name:"Waterfront Park"}},{id:2,title:"The Hidden Message",description:"You've found the first location! Now look for a hidden message on the back of the bench.",type:"manual",hint:"The message might be small or partially hidden. Look carefully.",imageUrl:"/images/bench-clue.jpg"},{id:3,title:"Follow the Path",description:"The message leads you to a place where knowledge is kept. Find the building with stone lions guarding its entrance.",type:"location",targetLocation:{latitude:0,longitude:0,name:"Public Library"}}],i=e=>{let{targetLocation:t,onLocationMatch:l,onLocationUpdate:n}=e,[i,o]=(0,s.useState)(null),[r,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=(()=>{if(!navigator.geolocation)return void c("Geolocation is not supported by your browser");m(!0);let e=navigator.geolocation.watchPosition(e=>{let{latitude:a,longitude:s}=e.coords,i={latitude:a,longitude:s};if(o(i),n&&n(i),t){let e=((e,t,l,a)=>{let s=e*Math.PI/180,n=l*Math.PI/180,i=(l-e)*Math.PI/180,o=(a-t)*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(s)*Math.cos(n)*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371e3})(a,s,t.latitude,t.longitude);u(e),e<=50&&l&&l(i)}c(null)},e=>{c("Error getting location: ".concat(e.message))},{enableHighAccuracy:!0,maximumAge:0,timeout:5e3});return()=>{navigator.geolocation.clearWatch(e),m(!1)}})();return()=>{e&&e()}},[t]),(0,a.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Location Status"}),r&&(0,a.jsx)("div",{className:"text-red-500 mt-2",children:r}),i?(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{children:"Your current location:"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Latitude: ",i.latitude.toFixed(6),", Longitude: ",i.longitude.toFixed(6)]}),t&&null!==h&&(0,a.jsxs)("p",{className:"mt-2",children:["Distance to target: ",(0,a.jsxs)("strong",{children:[h.toFixed(0)," meters"]})]})]}):(0,a.jsx)("div",{className:"text-amber-500 mt-2",children:"Getting your location..."}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("div",{className:"h-3 w-full rounded-full ".concat(d?"bg-green-200":"bg-gray-200"),children:(0,a.jsx)("div",{className:"h-3 rounded-full ".concat(null!==h&&h<=50?"bg-green-500":"bg-blue-500"),style:{width:h&&t?"".concat(Math.max(0,Math.min(100,100-h/200*100)),"%"):"0%"}})})})]})},o=e=>{let{puzzle:t,onSolve:l}=e;return(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:t.title}),(0,a.jsxs)("div",{className:"prose max-w-none mb-6",children:[(0,a.jsx)("p",{children:t.description}),t.imageUrl&&(0,a.jsx)("div",{className:"my-4",children:(0,a.jsx)("img",{src:t.imageUrl,alt:t.title,className:"mx-auto rounded-md max-h-80 object-contain"})}),t.hint&&(0,a.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-md mt-4 border-l-4 border-yellow-400",children:[(0,a.jsx)("h4",{className:"font-semibold text-yellow-800",children:"Hint:"}),(0,a.jsx)("p",{className:"text-yellow-700",children:t.hint})]})]}),"location"===t.type?(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("p",{className:"text-center italic text-gray-600",children:"Navigate to the correct location to solve this puzzle!"})}):(0,a.jsx)("button",{onClick:l,className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition",children:"I've Solved This Puzzle"})]})},r=e=>{let{currentPuzzleIndex:t,totalPuzzles:l}=e,s=Math.round(t/l*100);return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,a.jsxs)("span",{children:["Puzzle ",t+1," of ",l]}),(0,a.jsxs)("span",{children:[s,"% Complete"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-in-out",style:{width:"".concat(s,"%")}})})]})};function c(){let[e,t]=(0,s.useState)(0),[l,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)(null),x=n[e];(0,s.useEffect)(()=>{let e=localStorage.getItem("puzzleGameProgress");if(e){let{currentIndex:l,completionTime:a}=JSON.parse(e);t(l),a&&(u(new Date(a)),m(!0))}},[]),(0,s.useEffect)(()=>{let t={currentIndex:e,completionTime:h?h.toISOString():null};localStorage.setItem("puzzleGameProgress",JSON.stringify(t))},[e,h]);let g=()=>{e<n.length-1?t(e+1):(m(!0),u(new Date))};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[(0,a.jsxs)("header",{className:"max-w-2xl mx-auto mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-2",children:"Location Puzzle Game"}),(0,a.jsx)("p",{className:"text-gray-600 text-center",children:"Solve puzzles by finding real-world locations!"})]}),(0,a.jsx)("main",{className:"max-w-2xl mx-auto bg-white shadow-lg rounded-lg p-6",children:d?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Congratulations!"}),(0,a.jsx)("p",{className:"mb-6",children:"You've completed all the puzzles!"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-8",children:["Completed on: ",null==h?void 0:h.toLocaleDateString()," at ",null==h?void 0:h.toLocaleTimeString()]}),(0,a.jsx)("button",{onClick:()=>{t(0),m(!1),u(null),localStorage.removeItem("puzzleGameProgress")},className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition",children:"Play Again"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{currentPuzzleIndex:e,totalPuzzles:n.length}),(0,a.jsx)(o,{puzzle:x,onSolve:"manual"===x.type?g:void 0}),"location"===x.type&&(0,a.jsx)(i,{targetLocation:x.targetLocation,onLocationMatch:e=>{"location"===x.type&&g()},onLocationUpdate:e=>{c(e)}})]})}),(0,a.jsx)("footer",{className:"max-w-2xl mx-auto mt-8 text-center text-gray-500 text-sm",children:(0,a.jsx)("p",{children:"Created with Next.js"})})]})}},9828:(e,t,l)=>{Promise.resolve().then(l.bind(l,6841))}},e=>{e.O(0,[766,441,964,358],()=>e(e.s=9828)),_N_E=e.O()}]);